/*!
 * Copyright (c) 2016 Rubble LTD. All rights reserved.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE
 * OR OTHER DEALINGS IN THE SOFTWARE.
 */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n};!function(n){"function"==typeof require&&"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=n(require("knockout")):"function"==typeof define&&define.amd?define(["knockout"],n):n(window.ko)}(function(n){function e(e,o,t){if("component"in o()){var r=e.children[0];return r?n.contextFor(r).$component:t.$component}return t.$component}return n.bindingHandlers.ref={refs:{},update:function(o,t,r,i,f){"component"in r()||console.warn&&console.warn("ref binding should be used together with a component binding, otherwise you might leak memory if the component binding can change dynamically.");var d=n.bindingHandlers.ref.refs,c=n.unwrap(t());n.tasks.schedule(function(){var t=e(o,r,f);d[c]=d.hasOwnProperty(c)?d[c](t):n.observable(t),n.utils.domNodeDisposal.addDisposeCallback(o,function(){return delete d[c]})})},after:["component"]},n.bindingHandlers.refFn={init:function(e,o,t,r,i){var f=n.unwrap(o()),d=f.callback,c=f.ref;return n.applyBindingsToDescendants(i,e),n.tasks.schedule(function(){d(n.bindingHandlers.ref.refs[c])}),{controlsDescendantBindings:!0}},after:["ref"]},n.bindingHandlers.ref.refs});